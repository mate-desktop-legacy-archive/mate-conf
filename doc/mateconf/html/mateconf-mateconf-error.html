<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GError</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="MateConf Reference Manual">
<link rel="up" href="ch01.html" title="Using the MateConf library">
<link rel="prev" href="mateconf-mateconf-engine.html" title="MateConfEngine">
<link rel="next" href="mateconf-mateconf-internals.html" title="mateconf-internals">
<meta name="generator" content="GTK-Doc V1.15.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="mateconf-mateconf-engine.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">MateConf Reference Manual</th>
<td><a accesskey="n" href="mateconf-mateconf-internals.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#mateconf-mateconf-error.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#mateconf-mateconf-error.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="mateconf-mateconf-error"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="mateconf-mateconf-error.top_of_page"></a>GError</span></h2>
<p>GError — error reporting.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="mateconf-mateconf-error.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">enum                <a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError">MateConfError</a>;
<a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> *            <a class="link" href="mateconf-mateconf-error.html#mateconf-error-new" title="mateconf_error_new ()">mateconf_error_new</a>                     (<em class="parameter"><code><a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> en</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="returnvalue">GQuark</span></a>              <a class="link" href="mateconf-mateconf-error.html#mateconf-error-quark" title="mateconf_error_quark ()">mateconf_error_quark</a>                   (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="mateconf-mateconf-error.html#mateconf-set-error" title="mateconf_set_error ()">mateconf_set_error</a>                     (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **err</code></em>,
                                                         <em class="parameter"><code><a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> en</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> *            <a class="link" href="mateconf-mateconf-error.html#mateconf-compose-errors" title="mateconf_compose_errors ()">mateconf_compose_errors</a>                (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> *err1</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> *err2</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="mateconf-mateconf-error.description"></a><h2>Description</h2>
<p>
The <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> object is used to report errors that occur in MateConf
library routines. All functions that report errors work the same way:
</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
The last argument to the function is a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>**, a pointer to a
location where a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>* can be placed.
</p></li>
<li class="listitem"><p>
This last argument may be <span class="symbol">NULL</span>, in which case no
error will be returned.
</p></li>
<li class="listitem"><p>
If non-<span class="symbol">NULL</span>, the argument should be the address of a
<a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>* variable, which should be initialized to
<span class="symbol">NULL</span>.
</p></li>
<li class="listitem"><p>
If an error occurs, a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> will be allocated and placed in the
return location; the caller must free the <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> with
<a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#g-error-free"><code class="function">g_error_free()</code></a>. If no error occurs, the return location will be
left untouched. That is, the test <code class="literal">error != NULL</code>
should always be a reliable indicator of whether the operation failed.
</p></li>
</ul></div>
<p>
</p>
<p>
It's also common that the return value of a function indicates whether
or not an error occurred. Typically, <span class="symbol">TRUE</span> is returned
on success. In some cases, a <span class="symbol">NULL</span> return value
indicates failure. Either way, if the return value indicates failure
and you passed a non-<span class="symbol">NULL</span> value for the last argument
to the function, a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> will be returned. If the return value
indicates success, then a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> will never be returned.  These
relationships are guaranteed; that is, you can reliably use the return
value to decide whether a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> was placed in the return
location. If a function does <span class="emphasis"><em>not</em></span> indicate
success/failure by return value, you must check whether the
<a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> is <span class="symbol">NULL</span> to detect errors.
</p>
<p>
Here's a short error handling example:
</p>
<pre class="programlisting">
  GError* err = NULL;
  if (!mateconf_init(&amp;err))
    {
      fprintf(stderr, _("Failed to init MateConf: %s\n"), err-&gt;message);
      g_error_free(err);
      err = NULL;
    }
</pre>
<p>
</p>
</div>
<div class="refsect1">
<a name="mateconf-mateconf-error.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="MateConfError"></a><h3>enum MateConfError</h3>
<pre class="programlisting">typedef enum {
  MATECONF_ERROR_SUCCESS = 0,
  MATECONF_ERROR_FAILED = 1,        /* Something didn't work, don't know why, probably unrecoverable
                                    so there's no point having a more specific errno */

  MATECONF_ERROR_NO_SERVER = 2,     /* Server can't be launched/contacted */
  MATECONF_ERROR_NO_PERMISSION = 3, /* don't have permission for that */
  MATECONF_ERROR_BAD_ADDRESS = 4,   /* Address couldn't be resolved */
  MATECONF_ERROR_BAD_KEY = 5,       /* directory or key isn't valid (contains bad
                                    characters, or malformed slash arrangement) */
  MATECONF_ERROR_PARSE_ERROR = 6,   /* Syntax error when parsing */
  MATECONF_ERROR_CORRUPT = 7,       /* Fatal error parsing/loading information inside the backend */
  MATECONF_ERROR_TYPE_MISMATCH = 8, /* Type requested doesn't match type found */
  MATECONF_ERROR_IS_DIR = 9,        /* Requested key operation on a dir */
  MATECONF_ERROR_IS_KEY = 10,       /* Requested dir operation on a key */
  MATECONF_ERROR_OVERRIDDEN = 11,   /* Read-only source at front of path has set the value */
  MATECONF_ERROR_OAF_ERROR = 12,    /* liboaf error */
  MATECONF_ERROR_LOCAL_ENGINE = 13, /* Tried to use remote operations on a local engine */
  MATECONF_ERROR_LOCK_FAILED = 14,  /* Failed to get a lockfile */
  MATECONF_ERROR_NO_WRITABLE_DATABASE = 15, /* nowhere to write a value */
  MATECONF_ERROR_IN_SHUTDOWN = 16   /* server is shutting down */
} MateConfError;
</pre>
<p>
The <a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> enumeration allows client applications to
differentiate between different kinds of error. You may wish to take
specific actions depending on the error type.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="MATECONF-ERROR-SUCCESS:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_SUCCESS</code></span></p></td>
<td>indicates that no error occurred, won't be returned in a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-FAILED:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_FAILED</code></span></p></td>
<td>indicates failure, but no more specific <a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> applied.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-NO-SERVER:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_NO_SERVER</code></span></p></td>
<td>indicates that the MateConf server couldn't be contacted, probably a CORBA problem.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-NO-PERMISSION:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_NO_PERMISSION</code></span></p></td>
<td>indicates that permission to access some resource was denied.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-BAD-ADDRESS:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_BAD_ADDRESS</code></span></p></td>
<td>indicates that a configuration source address was syntactically invalid or impossible to resolve.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-BAD-KEY:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_BAD_KEY</code></span></p></td>
<td>indicates that a key was malformed.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-PARSE-ERROR:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_PARSE_ERROR</code></span></p></td>
<td>indicates that some parsing was done (perhaps in a backend) and it failed.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-CORRUPT:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_CORRUPT</code></span></p></td>
<td>indicates that some part of the database is corrupt.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-TYPE-MISMATCH:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_TYPE_MISMATCH</code></span></p></td>
<td>indicates that a specific type was required, and another type was found.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-IS-DIR:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_IS_DIR</code></span></p></td>
<td>indicates that an operation only applicable to keys was performed on a directory.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-IS-KEY:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_IS_KEY</code></span></p></td>
<td>indicates that an operation only applicable to directories was performed on a key.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-OVERRIDDEN:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_OVERRIDDEN</code></span></p></td>
<td>indicates that the administrator has imposed a mandatory value, and it could not be changed.
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-OAF-ERROR:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_OAF_ERROR</code></span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-LOCAL-ENGINE:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_LOCAL_ENGINE</code></span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-LOCK-FAILED:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_LOCK_FAILED</code></span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-NO-WRITABLE-DATABASE:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_NO_WRITABLE_DATABASE</code></span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><a name="MATECONF-ERROR-IN-SHUTDOWN:CAPS"></a><span class="term"><code class="literal">MATECONF_ERROR_IN_SHUTDOWN</code></span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="mateconf-error-new"></a><h3>mateconf_error_new ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> *            mateconf_error_new                     (<em class="parameter"><code><a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> en</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Creates a new error. Normally the MateConf library does this, but you
might find a reason to do it as well. <em class="parameter"><code>en</code></em> is the error number, <em class="parameter"><code>format</code></em>
is a <code class="function">printf()</code>-style format for the error message, and the variable
argument list is the same as in <code class="function">printf()</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>en</code></em> :</span></p></td>
<td>the error number.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>format</code></em> :</span></p></td>
<td>printf()-style format for error description.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>arguments required by the <em class="parameter"><code>format</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>newly-allocated <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="mateconf-error-quark"></a><h3>mateconf_error_quark ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="returnvalue">GQuark</span></a>              mateconf_error_quark                   (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Converts the string 'mateconf-error-quark' to a <a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="type">GQuark</span></a> and returns the value.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the <a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="type">GQuark</span></a> representing the string.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="mateconf-set-error"></a><h3>mateconf_set_error ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                mateconf_set_error                     (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **err</code></em>,
                                                         <em class="parameter"><code><a class="link" href="mateconf-mateconf-error.html#MateConfError" title="enum MateConfError"><span class="type">MateConfError</span></a> en</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Internal function.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>err</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>en</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>format</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="mateconf-compose-errors"></a><h3>mateconf_compose_errors ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> *            mateconf_compose_errors                (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> *err1</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> *err2</code></em>);</pre>
<p>
Internal function.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>err1</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>err2</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15.1</div>
</body>
</html>
